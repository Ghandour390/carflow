# ============================================
# CareFlow EHR - Docker Environment
# ============================================

# Application
NODE_ENV=development
PORT=3000 # Le port sur lequel l'application Node.js écoute
API_VERSION=v1

# Database (Docker service names)
MONGODB_SERVER=mongo
MONGODB_PORT=27018
MONGO_URI=mongodb://${MONGODB_SERVER}:${MONGODB_PORT}/careflowDocker


# Redis (Docker service name)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT} # URL complète pour la connexion Redis

# JWT Authentication
JWT_SECRET=cc80ce3d8c1a11bb809b21a1cc4ab0d8b4967ddee6395f1ebd552e0167915c8b3189f44f4a7fa31b3487b8eb99f278d8922d05854aa780e895da685733a3e141
JWT_ACCESS_EXPIRES=15m
JWT_REFRESH_EXPIRES=7d
JWT_RESET_EXPIRES=1h

# Email Configuration (MailDev Docker service)
EMAIL_HOST=maildev
EMAIL_PORT=1025
EMAIL_USER=ghandourabdelhak0@gmail.com
EMAIL_PASSWORD=gtha hcyn xyam jxiy
EMAIL_FROM=noreply@careflow.com
EMAIL_QUEUE_NAME=email-notifications

# Application URLs
API_URL=http://localhost:3000
FRONTEND_URL=http://localhost:5173

# Logging
LOG_LEVEL=info
LOG_DIR=./logs

# Appointment Reminders
REMINDER_HOURS_BEFORE=24
REMINDER_CHECK_INTERVAL_MS=3600000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Pagination
DEFAULT_PAGE_SIZE=10
MAX_PAGE_SIZE=100

# Security
BCRYPT_ROUNDS=10
MAX_LOGIN_ATTEMPTS=5
LOCK_TIME_MINUTES=15

# MinIO Configuration (S3-compatible storage)
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=password
MINIO_REGION=us-east-1

# MinIO Buckets
MINIO_BUCKET_DOCUMENTS=careflow-documents
MINIO_BUCKET_LAB_REPORTS=careflow-lab-reports
MINIO_BUCKET_PRESCRIPTIONS=careflow-prescriptions

# File Upload Limits
MAX_FILE_SIZE=20971520
ALLOWED_DOCUMENT_TYPES=application/pdf,image/jpeg,image/png
PRESIGNED_URL_EXPIRY=600